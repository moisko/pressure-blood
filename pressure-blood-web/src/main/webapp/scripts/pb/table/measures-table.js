function MeasuresTable(e,t,a){this.dataTables=e,this.dictionary=t,this.pageNumber=a}MeasuresTable.prototype.populateMeasuresTable=function(){$.get("/pressure-blood-web/o.getMeasures",$.proxy(function(e){this.getDictionary().initDictionary(e);var t=this.getDictionary().toMeasuresData(),a=this.getDataTables();t.forEach(function(e){a.fnAddData([e[0],e[1],e[2],e[3],e[4],e[5]])}),_.isEmpty(e)||this.updateStatisticsChart()},this))},MeasuresTable.prototype.addMeasure=function(){$.ajax({url:"/pressure-blood-web/o.addMeasure",type:"PUT",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({pressureBlood:{sbp:parseInt(MeasureForm.getSbp(),10),dbp:parseInt(MeasureForm.getDbp(),10)},datetime:LocalDateTime.parse(MeasureForm.getDatetime()),hand:MeasureForm.getHand(),pulse:parseInt(MeasureForm.getPulse(),10)}),success:$.proxy(function(e){this.getDataTables().fnAddData([PbMeasure.getSbp(e),PbMeasure.getDbp(e),PbMeasure.getHand(e),PbMeasure.getPulse(e),PbMeasure.getDatetime(e),PbMeasure.getRemoveLink(e)]),this.getDictionary().add(PbMeasure.getId(e),e),this.updateStatisticsChart(),MeasureForm.clear()},this),error:function(e){alert("Failed to add measure.\nServer returned: "+e.responseText),MeasureForm.clear()}})},MeasuresTable.prototype.deleteMeasure=function(e){$.ajax({type:"POST",url:"/pressure-blood-web/o.deleteMeasure",data:"id="+this.getMeasureIdFromTableRow(e),success:$.proxy(function(){this.getDataTables().fnDeleteRow(e);var t=this.getMeasureIdFromTableRow(e);this.getDictionary().remove(t),this.updateStatisticsChart()},this),error:function(e){alert("Failed to delete measure.\nServer returned: "+e.statusText)}})},MeasuresTable.prototype.updateStatisticsChart=function(){var e=this.calculateBeginIndex(),t=this.calculateEndIndex(),a=this.getDictionary().toChartData().splice(e,t);_.isEmpty(a)?Statistics.hideStatisticsHeader():(Statistics.showStatisticsHeader(),Statistics.drawChart(a))},MeasuresTable.prototype.calculateBeginIndex=function(){return 0},MeasuresTable.prototype.calculateEndIndex=function(){var e=10;return e>this.dictionary.count()&&(e=this.dictionary.count()),e},MeasuresTable.prototype.getMeasuresCount=function(){return this.dataTables.fnGetData().length},MeasuresTable.prototype.getMeasureIdFromTableRow=function(e){return e.find("td a").attr("id")},MeasuresTable.prototype.getDataTables=function(){return this.dataTables},MeasuresTable.prototype.getDictionary=function(){return this.dictionary},MeasuresTable.prototype.getPageNumber=function(){return this.pageNumber},MeasuresTable.prototype.setPageNumber=function(e){this.pageNumber=e}